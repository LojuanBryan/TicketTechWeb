@model LoginModel
@{
    Layout = "_LayoutDeslogado";
    ViewData["Title"] = "Login";
    ViewData["FullWidth"] = true;
}

<link rel="stylesheet" href="~/css/login.css" />

<main class="login-page">
    <div class="login-container">
        <div class="brand">
            <div class="brand-icon">TT</div>
            <h1 class="brand-title">TICKET TECH</h1>
        </div>

        @if (TempData["MensagemSucesso"] != null)
        {
            <div class="alert alert-success text-light" role="alert">
                @TempData["MensagemSucesso"]
            </div>
        }

        <form asp-controller="Login" asp-action="Entrar" method="post" class="login-form">
            @Html.AntiForgeryToken()

            @if (TempData["MensagemErro"] != null)
            {
                <div class="alert alert-danger text-light" role="alert">
                    @TempData["MensagemErro"]
                </div>
            }

            <div asp-validation-summary="ModelOnly" class="validation-summary"></div>

            <div class="mb-3">
                <label asp-for="Login" class="form-label visually-hidden">Login</label>
                <input type="text" asp-for="Login" class="form-control form-control-lg input-dark" placeholder="Login" autofocus autocomplete="username" />
                <span class="text-danger field-validation">@Html.ValidationMessageFor(x => x.Login)</span>
            </div>

            <div class="mb-3 position-relative">
                <label asp-for="Senha" class="form-label visually-hidden">Senha</label>
                <input type="password" asp-for="Senha" class="form-control form-control-lg input-dark" placeholder="Senha" id="senhaInput" autocomplete="current-password" />
                <span class="text-danger field-validation">@Html.ValidationMessageFor(x => x.Senha)</span>
            </div>
            <p class="mb-4 text-sm-end mx-auto">
                Esqueceu a senha?
                <a asp-action="RedefinirSenha" asp-controller="Login">Clique aqui</a>
            </p>
            <div class="d-flex justify-content-between align-items-center mb-3 small text-muted">
                <div class="form-check">
                    <input asp-for="ConcordaLGPD" class="form-check-input" type="checkbox" id="ConcordaLGPD" />
                    <label class="form-check-label" for="ConcordaLGPD">
                        Declaro que li e concordo com os <a href="#" data-bs-toggle="modal" data-bs-target="#modalTermos" class="lgpd-link">
                            Termos de Uso
                        </a> e Política de Privacidade geridas pela
                        <a href="https://www.planalto.gov.br/ccivil_03/_ato2015-2018/2018/lei/l13709.htm" target="_blank" rel="noopener noreferrer" class="lgpd-link">LGPD</a>.
                    </label>
                    <div>
                        <span class="text-danger">@Html.ValidationMessageFor(x => x.ConcordaLGPD)</span>
                    </div>
                </div>
            </div>

            <div class="d-grid mb-3">
                <button type="submit" class="btn btn-primary btn-login">Entrar</button>
            </div>

            <div class="d-flex justify-content-between align-items-center text-white-50 small">
                <div>Não tem uma conta?</div>
                <div><a asp-controller="Cadastro" asp-action="Index" class="link-create">Criar conta</a></div>
            </div>
        </form>
    </div>
</main>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}
<!-- Modal de Termos de Uso -->
<div class="modal fade" id="modalTermos" tabindex="-1" aria-labelledby="modalTermosLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-lg">
        <div class="modal-content">

            <div class="modal-header">
                <h5 class="modal-title" id="modalTermosLabel">Termos de Uso e Política de Privacidade</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>

            <div class="modal-body text-dark" style="max-height: 60vh; overflow-y:auto;">
                <h6>Lei Geral de Proteção de Dados (LGPD)</h6>
                <p>
                    Estes termos seguem as diretrizes da Lei nº 13.709/2018 — LGPD.
                    O objetivo é assegurar transparência no uso e tratamento dos dados
                    fornecidos pelos usuários do sistema TicketTech.
                </p>

                <p>
                    Ao continuar, você declara que compreende e concorda com a coleta,
                    armazenamento e uso das informações conforme descrito nestes termos.
                </p>

                <p>
                    Para mais detalhes sobre a LGPD, consulte o texto oficial da lei:
                    <a href="https://www.planalto.gov.br/ccivil_03/_ato2015-2018/2018/lei/l13709.htm"
                       target="_blank"
                       rel="noopener noreferrer">
                        Clique aqui para acessar a LGPD
                    </a>.
                </p>
            </div>

        </div>
    </div>
</div>
